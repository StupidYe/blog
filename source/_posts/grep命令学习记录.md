---
title: grep命令学习记录
date: 2017-11-17 13:44:36
tags: [shell]
toc: true
---

#### 0. grep命令基本用法

grep的一般格式为：`grep [选项][模式] [文件...]` 

<!-- more -->

#### 1.grep命令的选项如下：

##### 1.1 匹配规则选择

- -E：使用扩展的正则表达式
- -F：不支持正则表达式，按字符串的字面意思匹配

##### 1.2 输出控制选择

- -c：只输出匹配的行数
- -L：输出时只显示不匹配项的文件名
- -l：只输出匹配的文件名，不输出具体的匹配行
- -n：列出所有的匹配行，并且输出行号
- -s：不显示不存在或无匹配文本的错误信息
- -v：显示不包含匹配文本的所有行（除了匹配到的行外其他都输出）
- -o:   只输出匹配到的字符串

##### 1.3 匹配模式选择

- -w： 匹配整词
- -i:：  忽略大小写
- -r：   递归搜索，不仅搜索当前目录，而且搜索子目录

> 注意：当模式部分是正则表达式时，为了避免shell的元字符对正则表达式的影响，应该用**单引号**括起来，而不适用双引号或者不括起来。

#### 2.举例(只是简单列举几个)

```
测试文件：test.txt
hello
my name is abc
what is your name?
hello
```

- 只显示匹配的行数

  `grep -c 'hello' test.txt` 

  输出为：2

- 显示不匹配项的文件名

  `grep -L 'hi' test.txt`

  输出为：test.txt

- 只输出匹配到的字符串

  `grep -o 'hello' test.txt`

  输出为：

  hello

  hello

- 使用正则表达式

  `grep -E '^what' test.txt`（匹配以what开头的行）

  输出为：what is your name?

